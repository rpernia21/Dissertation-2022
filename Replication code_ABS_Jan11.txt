use "C:\Users\User\Desktop\R projects\Asian Barometer Survey_Project\Asian Barometer\All Merged Data ABS\W3 Merged Data\ABS3w.0.Merged\ABS3 merge20170818.dta" 
tab q129
gen strongleader=5- q129
tab strongleader
drop if strongleader <1
drop if strongleader>4
gen strongleader=5- q129
tab strongleader
tab q129
tab q130
gen oneparty=5- q130
tab oneparty
drop if oneparty<1
drop if oneparty>4
tab oneparty
tab q131
gen armyrule = 5- q131
tab q131
tab armyrule
drop if armyrule<1
drop if armyrule>4
tab armyrule
tab q132
gen expertsrule=5- q132
tab expertsrule
drop if expertsrule<1
drop if expertsrule>4
tab expertsrule
gen demsupport = ( strongleader + oneparty + armyrule + expertsrule )/4
tab demsupport
sum demsupport, detail
recode demsupport 1/1.75 = 0 1.75/4 = 1, gen (demsupportRE)
tab demsupportRE
tab demsupportRE
tab q89
gen demsatisfaction = 5- q89
tab demsatisfaction
drop if demsatisfaction<1
drop if demsatisfaction>4
tab demsatisfaction
tab q1
gen econ.ev.tod = 6- q1
gen econ_ev_tod = 6- q1
tab econ_ev_tod
drop if econ_ev_tod>5
drop if econ_ev_tod<1
gen future_econ_ev =6- q2
tab future_econ_ev
drop if future_econ_ev<1
drop if future_econ_ev>5
tab q2
gen past_econ_ev = future_econ_ev
tab past_econ_ev
drop future_econ_ev
tab econ_ev_tod
gen present_econ_ev = econ_ev_tod
tab present_econ_ev
drop econ_ev_tod
gen future_econ_ev =5- q3
tab
tab future_econ_ev
drop future_econ_ev
gen future_econ_ev =6- q3
tab future_econ_ev
drop if future_econ_ev<1
drop if future_econ_ev>5
tab future_econ_ev
tab q4
gen present_fam_econ_ev = 6- q4
tab present_fam_econ_ev
drop if present_fam_econ_ev<1
drop if present_fam_econ_ev>5
gen past_family_econ_ev = 6- q5
tab past_family_econ_ev
drop if past_family_econ_ev<1
gen future_family_econ_ev = 6- q6
tab future_family_econ_ev
drop if future_family_econ_ev<1
drop if future_family_econ_ev<5
tab future_family_econ_ev
drop if future_family_econ_ev
tab future_family_econ_ev
drop future_family_econ_ev
gen future_family_econ_ev = 6- q6
tab future_family_econ_ev
tab q6

*Replication code:
*WVS dataset
*Jan 10, 2022


*Generate new variables

recode E111_01 1/5 = 0 5/10 = 1, gen(polsystemRE)


gen demsupport = ( E114 + E115 + E116 + E117 )/4

recode demsupport 1/2.5 = 1 2.5/4 = 0, gen(demsupportRE)


*Typology
gen satdemocrats = (polsystemRE==1) & (demsupportRE==1)
gen satauthoritarians = (polsystemRE==1) & (demsupportRE==0)
gen dissatdemocrats = (polsystemRE==0) & (demsupportRE==1)
gen dissatauthoritarians = (polsystemRE==0) & (demsupportRE==0)




use "C:\Users\User\Desktop\R projects\Asian Barometer Survey_Project\Asian Barometer\All Merged Data ABS\W3 Merged Data\ABS3w.0.Merged\ABS3 merge20170818.dta" 
save "C:\Users\User\Desktop\R projects\Asian Barometer Survey_Project\Asian Barometer\All Merged Data ABS\W3 Merged Data\ABS3w.0.Merged\ABS3_Wave3_edited.dta"
tab q129
gen strongleader=5- q129
drop if strongleader <1
drop if strongleader>4
gen strongleader=5- q129
tab q130
gen oneparty=5- q130
tab oneparty
drop if oneparty<1
drop if oneparty>4
tab oneparty
gen armyrule = 5- q131
tab q131
tab armyrule
drop if armyrule<1
drop if armyrule>4
tab armyrule
gen expertsrule=5- q132
tab expertsrule
drop if expertsrule<1
drop if expertsrule>4
tab expertsrule
gen demsupport = ( strongleader + oneparty + armyrule + expertsrule )/4
tab demsupport
sum demsupport, detail
recode demsupport 1/1.75 = 0 1.75/4 = 1, gen (demsupportRE)
tab demsupportRE
tab q89
gen demsatisfaction = 5- q89
tab demsatisfaction
drop if demsatisfaction<1
drop if demsatisfaction>4
tab demsatisfaction
gen present_econ_ev = 6- q1
gen past_econ_ev = 6- q2
gen future_econ_ev = 6- q3
gen present_family_econ_ev = 6- q4
gen past_family_econ_ev = 6- q5
gen future_family_econ_ev = 6- q6
tab present_econ_ev
drop if present_econ_ev<1
drop if past_econ_ev<1
drop if future_econ_ev<1
drop if present_econ_ev>5
drop if past_econ_ev>5
drop if future_econ_ev>5
tab present_econ_ev
tab past_econ_ev
tab future_econ_ev
tab present_family_econ_ev
drop if present_family_econ_ev>5
drop if past_family_econ_ev>5
drop if future_family_econ_ev>5
tab future_family_econ_ev
drop if future_family_econ_ev<1
drop if past_family_econ_ev<1
drop if present_family_econ_ev<1
tab present_family_econ_ev
tab past_family_econ_ev
tab future_family_econ_ev
tab future_econ_ev
tab past_econ_ev
tab present_econ_ev
tab future_family_econ_ev
tab q6
save "C:\Users\User\Desktop\R projects\Asian Barometer Survey_Project\Asian Barometer\All Merged Data ABS\W3 Merged Data\ABS3w.0.Merged\ABS3_Wave3_edited.dta", replace
tab q7
gen trustpresidency = 5- q7
gen trustcourts = 5- q8
gen trustnatgov = 5- q9
gen trustparties = 5- q10
gen trustcongress= 5- q11
gen trustcivservices = 5- q12
gen trustmilitary =5- q13
gen trustpolice = 5- q14
gen locgov = 5- q15
tab q23
gen socialtrust = 3- q23
tab q39
tab q43
gen polinterest = 5- q43
tab q42
gen safety = 5- q42
tab q50
gen family_first =5- q50
tab q51
gen groupconformity = 5- q51
gen follow_parents = 5- q55
tab q118
gen curbing_corruption = 5- q118
tab q141
gen leaders_as_fam_heads = 5- q141
gen govt_conformity = 5- q142
gen group_harmony = 5- q143
tab se3a
gen age = se3a
tab se11
tab se2
gen gender = se2
tab gender
tab se13
gen income = se13
tab se5
gen education = se5
tab level3
gen urban = 3- level3
tab urban
tab se7
tab se7a
tab se7
gen religiosity = 11- se7
tab religiosity
drop if religiosity<1
drop if religiosity>10
tab religiosity
tab urban
drop if urban>2
tab education
drop if education>10
drop if education<1
tab education
tab income
tab se13
tab income
drop if income<1
drop if income>5
tab gender
drop if gender<1
tab age
drop if age<1
tab group_harmony
drop if group_harmony govt_conformity leaders_as_fam_heads>4
drop if group_harmony>4
drop if group_harmony<1
drop if govt_conformity>4
drop if govt_conformity<1
drop if leaders_as_fam_heads>4
drop if leaders_as_fam_heads<1
drop if curbing_corruption>4
drop if curbing_corruption<1
drop if follow_parents>4
drop if follow_parents<1
drop if groupconformity>4
drop if groupconformity<1
drop if family_first<1
drop if family_first>4
drop if safety<1
drop if safety>4
drop if polinterest>4
drop if polinterest<1
drop if socialtrust>3
drop if socialtrust<1
drop if locgov>4
drop if locgov<1
tab trustpolice
drop if trustpolice>4
drop if trustpolice<1
drop if trustmilitary>4
drop if trustmilitary<1
drop if trustcivservices>4
drop if trustcivservices<1
drop if trustcongress>4
drop if trustcongress<1
drop if trustparties>4
drop if trustparties<1
drop if trustnatgov>4
drop if trustnatgov<1
drop if trustcourts>4
drop if trustcourts<1
drop if trustpresidency>4
drop if trustpresidency<1


pca trustcourts trustnatgov trustparties trustcongress trustcivservices trustmilitary trustpolice

alpha trustcourts trustnatgov trustparties trustcongress trustcivservices trustmilitary trustpolice

gen poltrust= (trustcourts + trustnatgov + trustparties + trustcongress + trustcivservices + trustmilitary + trustpolice)/7

sum poltrust, detail

recode poltrust 1/2.43 = 0 2.43/4 = 1, gen(poltrustRE)




*

use "C:\Users\User\Desktop\R projects\Asian Barometer Survey_Project\Asian Barometer\All Merged Data ABS\W3 Merged Data\ABS3w.0.Merged\ABS3_Wave3_edited.dta" 
tab future_family_econ_ev
tab q7
gen trustpresidency = 5- q7
gen trustcourts = 5- q8
gen trustnatgov = 5- q9
gen trustparties = 5- q10
gen trustcongress= 5- q11
gen trustcivservices = 5- q12
gen trustmilitary =5- q13
gen trustpolice = 5- q14
gen locgov = 5- q15
tab q23
gen socialtrust = 3- q23
tab q39
tab q43
gen polinterest = 5- q43
tab q42
gen safety = 5- q42
tab q50
gen family_first =5- q50
tab q51
gen groupconformity = 5- q51
gen follow_parents = 5- q55
tab q118
gen curbing_corruption = 5- q118
tab q141
gen leaders_as_fam_heads = 5- q141
gen govt_conformity = 5- q142
gen group_harmony = 5- q143
tab se3a
gen age = se3a
tab se11
tab se2
gen gender = se2
tab gender
tab se13
gen income = se13
tab se5
gen education = se5
tab level3
gen urban = 3- level3
tab urban
tab se7
tab se7a
tab se7
gen religiosity = 11- se7
tab religiosity
drop if religiosity<1
drop if religiosity>10
tab religiosity
tab urban
drop if urban>2
tab education
drop if education>10
drop if education<1
tab education
tab income
tab se13
tab income
drop if income<1
drop if income>5
tab gender
drop if gender<1
tab age
drop if age<1
tab group_harmony
drop if group_harmony govt_conformity leaders_as_fam_heads>4
drop if group_harmony>4
drop if group_harmony<1
drop if govt_conformity>4
drop if govt_conformity<1
drop if leaders_as_fam_heads>4
drop if leaders_as_fam_heads<1
drop if curbing_corruption>4
drop if curbing_corruption<1
drop if follow_parents>4
drop if follow_parents<1
drop if groupconformity>4
drop if groupconformity<1
drop if family_first<1
drop if family_first>4
drop if safety<1
drop if safety>4
drop if polinterest>4
drop if polinterest<1
drop if socialtrust>3
drop if socialtrust<1
drop if locgov>4
drop if locgov<1
tab trustpolice
drop if trustpolice>4
drop if trustpolice<1
drop if trustmilitary>4
drop if trustmilitary<1
drop if trustcivservices>4
drop if trustcivservices<1
drop if trustcongress>4
drop if trustcongress<1
drop if trustparties>4
drop if trustparties<1
drop if trustnatgov>4
drop if trustnatgov<1
drop if trustcourts>4
drop if trustcourts<1
drop if trustpresidency>4
drop if trustpresidency<1
tab religiosity
pca trustcourts trustnatgov trustparties trustcongress trustcivservices trustmilitary trustpolice
alpha trustcourts trustnatgov trustparties trustcongress trustcivservices trustmilitary trustpolice
alpha trustcourts trustnatgov trustparties trustcongress trustcivservices trustmilitary trustpolice
gen poltrust= (trustcourts + trustnatgov + trustparties + trustcongress + trustcivservices + trustmilitary + trustpolice)/7
tab poltrust
sum poltrust, detail
recode poltrust 1/2.43 = 0 2.43/4 = 1, gen(poltrustRE)
tab poltrustRE
tab q95
gen govsatisfaction =5- q95
tab govsatisfaction
drop if govsatisfaction>4
drop if govsatisfaction<1
sum trustpresidency, detail
recode trustpresidency 1/3 = 0 3/4 = 1, gen (trustpresidencyRE)
tab trustpresidencyRE
tab demsupportRE
gen authorvalues = (leaders_as_fam_heads + govt_conformity + group_harmony)/3
tab authorvalues
sum authorvalues, detail
recode authorvalues 1/2.67 = 0 2.67/4 = 1, gen(authorvaluesRE)
tab authorvaluesRE
logit poltrustRE authorvaluesRE
esttab, replace se
logistic poltrustRE authorvaluesRE
logit poltrustRE authorvaluesRE socialtrust polinterest family_first groupconformity follow_parents curbing_corruption present_econ_ev past_econ_ev future_econ_ev present_family_econ_ev past_family_econ_ev future_family_econ_ev age gender income education urban religiosity
esttab, replace se
xtlogit poltrustRE authorvaluesRE socialtrust polinterest family_first groupconformity follow_parents curbing_corruption present_econ_ev past_econ_ev future_econ_ev present_family_econ_ev past_family_econ_ev future_family_econ_ev age gender income education urban religiosity
xtlogit poltrustRE authorvaluesRE socialtrust polinterest family_first groupconformity follow_parents curbing_corruption present_econ_ev past_econ_ev future_econ_ev present_family_econ_ev past_family_econ_ev future_family_econ_ev age gender income education urban religiosity, re
tab ir9
xtlogit poltrustRE authorvaluesRE socialtrust polinterest family_first groupconformity follow_parents curbing_corruption present_econ_ev past_econ_ev future_econ_ev present_family_econ_ev past_family_econ_ev future_family_econ_ev age gender income education urban religiosity, fe
tab couweight
tab allweight
tab couweight
tab ir9
tsset ir9
gen year= ir9
tab year
drop year
xtset ir9
tab ir9
xtlogit poltrustRE authorvaluesRE socialtrust polinterest family_first groupconformity follow_parents curbing_corruption present_econ_ev past_econ_ev future_econ_ev present_family_econ_ev past_family_econ_ev future_family_econ_ev age gender income education urban religiosity i.ir9

**

use "C:\Users\User\Desktop\R projects\Asian Barometer Survey_Project\Asian Barometer\All Merged Data ABS\W3 Merged Data\ABS3w.0.Merged\ABS3_Wave3_edited.dta" 
xtset ir9
tab ir9
xtlogit poltrustRE authorvaluesRE socialtrust polinterest family_first groupconformity follow_parents curbing_corruption present_econ_ev past_econ_ev future_econ_ev present_family_econ_ev past_family_econ_ev future_family_econ_ev age gender income education urban religiosity ir9, fe
xtlogit poltrustRE authorvaluesRE socialtrust polinterest family_first groupconformity follow_parents curbing_corruption present_econ_ev past_econ_ev future_econ_ev present_family_econ_ev past_family_econ_ev future_family_econ_ev age gender income education urban religiosity ir9
estim stor m1
logit poltrustRE authorvaluesRE socialtrust polinterest family_first groupconformity follow_parents curbing_corruption present_econ_ev past_econ_ev future_econ_ev present_family_econ_ev past_family_econ_ev future_family_econ_ev age gender income education urban religiosity, robust
estim stor m2
esttab m1 m2 using m1.rtf, replace se stat(N aic bic r2)
logit poltrustRE authorvaluesRE socialtrust polinterest family_first groupconformity follow_parents curbing_corruption present_econ_ev past_econ_ev future_econ_ev present_family_econ_ev past_family_econ_ev future_family_econ_ev age gender income education urban religiosity ir9, robust
estim stor m3
esttab m1 m2 m3 using m1.rtf, replace se stat(N aic bic r2)
esttab m1 m2 m3 using m2.rtf, replace se stat(N aic bic r2)
xtreg poltrust authorvaluesRE socialtrust polinterest family_first groupconformity follow_parents curbing_corruption present_econ_ev past_econ_ev future_econ_ev present_family_econ_ev past_family_econ_ev future_family_econ_ev age gender income education urban religiosity ir9
xtreg poltrust authorvaluesRE socialtrust polinterest family_first groupconformity follow_parents curbing_corruption present_econ_ev past_econ_ev future_econ_ev present_family_econ_ev past_family_econ_ev future_family_econ_ev age gender income education urban religiosity, robust
estim stor m4
reg poltrust authorvaluesRE socialtrust polinterest family_first groupconformity follow_parents curbing_corruption present_econ_ev past_econ_ev future_econ_ev present_family_econ_ev past_family_econ_ev future_family_econ_ev age gender income education urban religiosity, robust
estim stor m5
esttab m1 m3 m4 m5 using m3.rtf, replace se stat(N aic bic r2)

**

use "C:\Users\User\Desktop\R projects\Asian Barometer Survey_Project\Asian Barometer\All Merged Data ABS\W3 Merged Data\ABS3w.0.Merged\ABS3 merge20170818.dta" 
tab country
tab q42
tab q148
tab q42
tab q87
gen safety = 5- q42
gen disregard_law = 5-q148
tab safety
drop if safety>4
drop if safety<1
tab disregard_law
drop if disregard_law>4
drop if disregard_law<1
tab country
sum safety, detail
recode safety 1/3=0 3/4 = 1, gen(safetyRE)
tab safety
tab safetyRE
recode safety 1/3=0 3/4=1, gen(safetyRE)
drop safetyRE
recode safety 1/3=0 3/4=1, gen(safetyRE)
tab safetyRE
tab q42
tab safety
drop safetyRE
sum safety, detail